<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Google Contacts</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script>
        function showContactForm() {
            document.getElementById("addContactForm").style.display = "block";
        }
    </script>
</head>
<body class="container mt-4">

<h2>ðŸ“‡ Google Contacts</h2>

<!-- Add Contact Button -->
<button class="btn btn-primary mb-3" onclick="showContactForm()">âž• Add Contact</button>

<!-- Hidden Form for Adding Contact -->
<div id="addContactForm" style="display: none;">
    <form method="post" action="/api/contacts/add">
        <div class="mb-2">
            <label>Name:</label>
            <input type="text" name="name" class="form-control" required>
        </div>
        <div class="mb-2">
            <label>Email:</label>
            <input type="email" name="email" class="form-control">
        </div>
        <div class="mb-2">
            <label>Phone Number:</label>
            <input type="text" name="phone" class="form-control">
        </div>
        <button type="submit" class="btn btn-success">Save Contact</button>
    </form>
</div>

<table class="table table-bordered">
    <thead>
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Phone Number</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="contact : ${contacts}">
        <td th:text="${contact.names != null and contact.names.size() > 0 ? contact.names[0].displayName : 'N/A'}"></td>
        <td th:text="${contact.emailAddresses != null and contact.emailAddresses.size() > 0 ? contact.emailAddresses[0].value : 'N/A'}"></td>
        <td th:text="${contact.phoneNumbers != null and contact.phoneNumbers.size() > 0 ? contact.phoneNumbers[0].value : 'N/A'}"></td>
        <td>
            <a href="#" class="btn btn-warning btn-sm">Edit</a>
            <a href="#" class="btn btn-danger btn-sm">Delete</a>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
